{"ast":null,"code":"var _jsxFileName = \"C:\\\\web-product-catalog-assignment\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { fetchCategories, fetchProducts } from './services/api';\nimport CategoryList from './components/CategoryList';\nimport ProductList from './components/ProductList';\nimport PriceFilter from './components/PriceFilter';\nimport SortControls from './components/SortControls';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  const [categories, setCategories] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [priceRange, setPriceRange] = useState([0, 1000]);\n  const [sortMode, setSortMode] = useState('');\n  useEffect(() => {\n    async function load() {\n      const cats = await fetchCategories();\n      setCategories(['all', ...cats]);\n      const prods = await fetchProducts();\n      setProducts(prods);\n      const prices = prods.map(p => p.price);\n      const min = Math.floor(Math.min(...prices));\n      const max = Math.ceil(Math.max(...prices));\n      setPriceRange([min, max]);\n    }\n    load();\n  }, []);\n  const discounts = {\n    jewelery: 0.1,\n    \"men's clothing\": 0.3\n  };\n  function applyFilters() {\n    let list = products.slice();\n    if (selectedCategory !== 'all') {\n      list = list.filter(p => p.category === selectedCategory);\n    }\n    list = list.filter(p => p.price >= priceRange[0] && p.price <= priceRange[1]);\n    if (sortMode === 'price-asc') {\n      list.sort((a, b) => a.price - b.price);\n    } else if (sortMode === 'price-desc') {\n      list.sort((a, b) => b.price - a.price);\n    } else if (sortMode === 'discount' && selectedCategory === 'all') {\n      // apply discount mapping when 'all' selected\n      list.sort((a, b) => {\n        const da = discounts[a.category] ? a.price * discounts[a.category] : 0;\n        const db = discounts[b.category] ? b.price * discounts[b.category] : 0;\n        return db - da; // highest discount first\n      });\n    }\n    return list;\n  }\n  const filtered = applyFilters();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Product Catalog\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main\",\n      children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n        className: \"sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(CategoryList, {\n          categories: categories,\n          selected: selectedCategory,\n          onSelect: c => setSelectedCategory(c)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PriceFilter, {\n          products: products,\n          range: priceRange,\n          onChange: r => setPriceRange(r)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SortControls, {\n          sortMode: sortMode,\n          onChange: m => setSortMode(m)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"content\",\n        children: /*#__PURE__*/_jsxDEV(ProductList, {\n          products: filtered,\n          discounts: discounts,\n          allSelected: selectedCategory === 'all'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"cNQQHOYeFmKfZr4Q6Vic65bGxNk=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","fetchCategories","fetchProducts","CategoryList","ProductList","PriceFilter","SortControls","jsxDEV","_jsxDEV","App","_s","categories","setCategories","products","setProducts","selectedCategory","setSelectedCategory","priceRange","setPriceRange","sortMode","setSortMode","load","cats","prods","prices","map","p","price","min","Math","floor","max","ceil","discounts","jewelery","applyFilters","list","slice","filter","category","sort","a","b","da","db","filtered","className","children","fileName","_jsxFileName","lineNumber","columnNumber","selected","onSelect","c","range","onChange","r","m","allSelected","_c","$RefreshReg$"],"sources":["C:/web-product-catalog-assignment/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { fetchCategories, fetchProducts } from './services/api';\r\nimport CategoryList from './components/CategoryList';\r\nimport ProductList from './components/ProductList';\r\nimport PriceFilter from './components/PriceFilter';\r\nimport SortControls from './components/SortControls';\r\nimport './App.css';\r\n\r\nexport default function App() {\r\n  const [categories, setCategories] = useState([]);\r\n  const [products, setProducts] = useState([]);\r\n  const [selectedCategory, setSelectedCategory] = useState('all');\r\n  const [priceRange, setPriceRange] = useState([0, 1000]);\r\n  const [sortMode, setSortMode] = useState('');\r\n\r\n  useEffect(() => {\r\n    async function load() {\r\n      const cats = await fetchCategories();\r\n      setCategories(['all', ...cats]);\r\n      const prods = await fetchProducts();\r\n      setProducts(prods);\r\n      const prices = prods.map(p => p.price);\r\n      const min = Math.floor(Math.min(...prices));\r\n      const max = Math.ceil(Math.max(...prices));\r\n      setPriceRange([min, max]);\r\n    }\r\n    load();\r\n  }, []);\r\n\r\n  const discounts = { jewelery: 0.1, \"men's clothing\": 0.3 };\r\n\r\n  function applyFilters() {\r\n    let list = products.slice();\r\n    if (selectedCategory !== 'all') {\r\n      list = list.filter(p => p.category === selectedCategory);\r\n    }\r\n    list = list.filter(p => p.price >= priceRange[0] && p.price <= priceRange[1]);\r\n\r\n    if (sortMode === 'price-asc') {\r\n      list.sort((a, b) => a.price - b.price);\r\n    } else if (sortMode === 'price-desc') {\r\n      list.sort((a, b) => b.price - a.price);\r\n    } else if (sortMode === 'discount' && selectedCategory === 'all') {\r\n      // apply discount mapping when 'all' selected\r\n      list.sort((a, b) => {\r\n        const da = discounts[a.category] ? a.price * discounts[a.category] : 0;\r\n        const db = discounts[b.category] ? b.price * discounts[b.category] : 0;\r\n        return db - da; // highest discount first\r\n      });\r\n    }\r\n\r\n    return list;\r\n  }\r\n\r\n  const filtered = applyFilters();\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <header className=\"header\">\r\n        <h1>Product Catalog</h1>\r\n      </header>\r\n      <main className=\"main\">\r\n        <aside className=\"sidebar\">\r\n          <CategoryList\r\n            categories={categories}\r\n            selected={selectedCategory}\r\n            onSelect={c => setSelectedCategory(c)}\r\n          />\r\n          <PriceFilter\r\n            products={products}\r\n            range={priceRange}\r\n            onChange={r => setPriceRange(r)}\r\n          />\r\n          <SortControls\r\n            sortMode={sortMode}\r\n            onChange={m => setSortMode(m)}\r\n          />\r\n        </aside>\r\n        <section className=\"content\">\r\n          <ProductList products={filtered} discounts={discounts} allSelected={selectedCategory==='all'} />\r\n        </section>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,eAAe,EAAEC,aAAa,QAAQ,gBAAgB;AAC/D,OAAOC,YAAY,MAAM,2BAA2B;AACpD,OAAOC,WAAW,MAAM,0BAA0B;AAClD,OAAOC,WAAW,MAAM,0BAA0B;AAClD,OAAOC,YAAY,MAAM,2BAA2B;AACpD,OAAO,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnB,eAAe,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EAC5B,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACa,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACe,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAM,CAACiB,UAAU,EAAEC,aAAa,CAAC,GAAGlB,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;EACvD,MAAM,CAACmB,QAAQ,EAAEC,WAAW,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EAE5CD,SAAS,CAAC,MAAM;IACd,eAAesB,IAAIA,CAAA,EAAG;MACpB,MAAMC,IAAI,GAAG,MAAMrB,eAAe,CAAC,CAAC;MACpCW,aAAa,CAAC,CAAC,KAAK,EAAE,GAAGU,IAAI,CAAC,CAAC;MAC/B,MAAMC,KAAK,GAAG,MAAMrB,aAAa,CAAC,CAAC;MACnCY,WAAW,CAACS,KAAK,CAAC;MAClB,MAAMC,MAAM,GAAGD,KAAK,CAACE,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,KAAK,CAAC;MACtC,MAAMC,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACD,GAAG,CAAC,GAAGJ,MAAM,CAAC,CAAC;MAC3C,MAAMO,GAAG,GAAGF,IAAI,CAACG,IAAI,CAACH,IAAI,CAACE,GAAG,CAAC,GAAGP,MAAM,CAAC,CAAC;MAC1CN,aAAa,CAAC,CAACU,GAAG,EAAEG,GAAG,CAAC,CAAC;IAC3B;IACAV,IAAI,CAAC,CAAC;EACR,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMY,SAAS,GAAG;IAAEC,QAAQ,EAAE,GAAG;IAAE,gBAAgB,EAAE;EAAI,CAAC;EAE1D,SAASC,YAAYA,CAAA,EAAG;IACtB,IAAIC,IAAI,GAAGvB,QAAQ,CAACwB,KAAK,CAAC,CAAC;IAC3B,IAAItB,gBAAgB,KAAK,KAAK,EAAE;MAC9BqB,IAAI,GAAGA,IAAI,CAACE,MAAM,CAACZ,CAAC,IAAIA,CAAC,CAACa,QAAQ,KAAKxB,gBAAgB,CAAC;IAC1D;IACAqB,IAAI,GAAGA,IAAI,CAACE,MAAM,CAACZ,CAAC,IAAIA,CAAC,CAACC,KAAK,IAAIV,UAAU,CAAC,CAAC,CAAC,IAAIS,CAAC,CAACC,KAAK,IAAIV,UAAU,CAAC,CAAC,CAAC,CAAC;IAE7E,IAAIE,QAAQ,KAAK,WAAW,EAAE;MAC5BiB,IAAI,CAACI,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACd,KAAK,GAAGe,CAAC,CAACf,KAAK,CAAC;IACxC,CAAC,MAAM,IAAIR,QAAQ,KAAK,YAAY,EAAE;MACpCiB,IAAI,CAACI,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACf,KAAK,GAAGc,CAAC,CAACd,KAAK,CAAC;IACxC,CAAC,MAAM,IAAIR,QAAQ,KAAK,UAAU,IAAIJ,gBAAgB,KAAK,KAAK,EAAE;MAChE;MACAqB,IAAI,CAACI,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;QAClB,MAAMC,EAAE,GAAGV,SAAS,CAACQ,CAAC,CAACF,QAAQ,CAAC,GAAGE,CAAC,CAACd,KAAK,GAAGM,SAAS,CAACQ,CAAC,CAACF,QAAQ,CAAC,GAAG,CAAC;QACtE,MAAMK,EAAE,GAAGX,SAAS,CAACS,CAAC,CAACH,QAAQ,CAAC,GAAGG,CAAC,CAACf,KAAK,GAAGM,SAAS,CAACS,CAAC,CAACH,QAAQ,CAAC,GAAG,CAAC;QACtE,OAAOK,EAAE,GAAGD,EAAE,CAAC,CAAC;MAClB,CAAC,CAAC;IACJ;IAEA,OAAOP,IAAI;EACb;EAEA,MAAMS,QAAQ,GAAGV,YAAY,CAAC,CAAC;EAE/B,oBACE3B,OAAA;IAAKsC,SAAS,EAAC,KAAK;IAAAC,QAAA,gBAClBvC,OAAA;MAAQsC,SAAS,EAAC,QAAQ;MAAAC,QAAA,eACxBvC,OAAA;QAAAuC,QAAA,EAAI;MAAe;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClB,CAAC,eACT3C,OAAA;MAAMsC,SAAS,EAAC,MAAM;MAAAC,QAAA,gBACpBvC,OAAA;QAAOsC,SAAS,EAAC,SAAS;QAAAC,QAAA,gBACxBvC,OAAA,CAACL,YAAY;UACXQ,UAAU,EAAEA,UAAW;UACvByC,QAAQ,EAAErC,gBAAiB;UAC3BsC,QAAQ,EAAEC,CAAC,IAAItC,mBAAmB,CAACsC,CAAC;QAAE;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvC,CAAC,eACF3C,OAAA,CAACH,WAAW;UACVQ,QAAQ,EAAEA,QAAS;UACnB0C,KAAK,EAAEtC,UAAW;UAClBuC,QAAQ,EAAEC,CAAC,IAAIvC,aAAa,CAACuC,CAAC;QAAE;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjC,CAAC,eACF3C,OAAA,CAACF,YAAY;UACXa,QAAQ,EAAEA,QAAS;UACnBqC,QAAQ,EAAEE,CAAC,IAAItC,WAAW,CAACsC,CAAC;QAAE;UAAAV,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/B,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACG,CAAC,eACR3C,OAAA;QAASsC,SAAS,EAAC,SAAS;QAAAC,QAAA,eAC1BvC,OAAA,CAACJ,WAAW;UAACS,QAAQ,EAAEgC,QAAS;UAACZ,SAAS,EAAEA,SAAU;UAAC0B,WAAW,EAAE5C,gBAAgB,KAAG;QAAM;UAAAiC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV;AAACzC,EAAA,CA5EuBD,GAAG;AAAAmD,EAAA,GAAHnD,GAAG;AAAA,IAAAmD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}